<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

  <title>Firebase Auth</title>
</head>

<body>

  <form id="mainform" class="w-25 m-4">
    <h2>Login User</h2>
    <div class="form-floating mb-3">
      <input type="email" class="form-control" id="emailinput" placeholder="name@example.com">
      <label for="eamilinput">Email address</label>
    </div>
    <div class="form-floating mb-3">
      <input type="password" class="form-control" id="passwordinput" placeholder="Password">
      <label for="passwordinput">Password</label>
    </div>
    <button type="submit" class="btn btn-primary" style="float: right;">Login</button>
    <a href="index.html"> <button type="button" class="btn btn-primary me-2" style="float: right;">Register
        user</button></a>
  </form>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>

  <script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.5.2/firebase-app.js";
    import { getDatabase, set, ref, child } from "https://www.gstatic.com/firebasejs/10.5.2/firebase-database.js";
    import { getAuth, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.5.2/firebase-auth.js";
    const firebaseConfig = {
    apiKey: "AIzaSyC03R0BBn9wvGTz17BtOPh5QRdefKYcEjU",
    authDomain: "authentication-3e3d2.firebaseapp.com",
    projectId: "authentication-3e3d2",
    storageBucket: "authentication-3e3d2.appspot.com",
    messagingSenderId: "1072900091986",
    appId: "1:1072900091986:web:2857bc95fcc01e1d81ef8b"
  };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const db = getDatabase();
    const auth = getAuth(app);
    const dbref = ref(db);
    let EmailInp = document.getElementById('emailinput');
    let PasswordInp = document.getElementById('passwordinput');
    let MainForm = document.getElementById('mainform');

    let LoginUser = evt => {
      evt.preventDefault();
      signInWithEmailAndPassword(auth, EmailInp.value, PasswordInp.value).then((Credential) => {

        alert("user logged in sucessfully");
        console.log(Credential);
      })
        .catch((error) => {
          alert(error.message);
          console.log(error.code);
          console.log(error.message);
        }
        )
    }
    MainForm.addEventListener('submit', LoginUser)
  </script>
</body>

</html>